{"ast":null,"code":"import _slicedToArray from \"/Users/michellezyman/Projects/prody/prody-master/prody_fe/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useState } from \"react\"; // params structure: {url, header, method, body, dep1, dep2}\n\nexport const useFetch = params => {\n  // console.log(`method ${JSON.stringify(params)}`);\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        loading = _useState4[0],\n        setLoading = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        error = _useState6[0],\n        setError = _useState6[1];\n\n  useEffect(() => {\n    if (!params.dep1) {\n      return () => null;\n    }\n\n    setLoading(true);\n    fetch(params.url, {\n      headers: params.header,\n      method: params.method,\n      body: params.body\n    }).then(response => response.json()).then(responseData => {\n      setData(responseData);\n      setLoading(false);\n    }).catch(() => {\n      setError(true);\n    });\n  }, [params.url, params.dep1, params.dep2]);\n  return {\n    data,\n    loading,\n    error\n  };\n};","map":{"version":3,"sources":["/Users/michellezyman/Projects/prody/prody-master/prody_fe/src/utils/Hook.js"],"names":["useEffect","useState","useFetch","params","data","setData","loading","setLoading","error","setError","dep1","fetch","url","headers","header","method","body","then","response","json","responseData","catch","dep2"],"mappings":";AAAA,SAAQA,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC,C,CAEA;;AACA,OAAO,MAAMC,QAAQ,GAAIC,MAAD,IAAY;AAChC;AADgC,oBAERF,QAAQ,CAAC,IAAD,CAFA;AAAA;AAAA,QAEzBG,IAFyB;AAAA,QAEnBC,OAFmB;;AAAA,qBAGFJ,QAAQ,CAAC,IAAD,CAHN;AAAA;AAAA,QAGzBK,OAHyB;AAAA,QAGhBC,UAHgB;;AAAA,qBAINN,QAAQ,CAAC,KAAD,CAJF;AAAA;AAAA,QAIzBO,KAJyB;AAAA,QAIlBC,QAJkB;;AAKhCT,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACG,MAAM,CAACO,IAAZ,EAAkB;AAAC,aAAO,MAAM,IAAb;AAAmB;;AACtCH,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAI,IAAAA,KAAK,CAACR,MAAM,CAACS,GAAR,EAAa;AACdC,MAAAA,OAAO,EAAEV,MAAM,CAACW,MADF;AAEdC,MAAAA,MAAM,EAAEZ,MAAM,CAACY,MAFD;AAGdC,MAAAA,IAAI,EAAEb,MAAM,CAACa;AAHC,KAAb,CAAL,CAKKC,IALL,CAKUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EALtB,EAMKF,IANL,CAMWG,YAAD,IAAkB;AACpBf,MAAAA,OAAO,CAACe,YAAD,CAAP;AACAb,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KATL,EAUKc,KAVL,CAUW,MAAM;AAACZ,MAAAA,QAAQ,CAAC,IAAD,CAAR;AAAe,KAVjC;AAWH,GAdQ,EAcN,CAACN,MAAM,CAACS,GAAR,EAAaT,MAAM,CAACO,IAApB,EAA0BP,MAAM,CAACmB,IAAjC,CAdM,CAAT;AAeA,SAAO;AAAClB,IAAAA,IAAD;AAAOE,IAAAA,OAAP;AAAgBE,IAAAA;AAAhB,GAAP;AACH,CArBM","sourcesContent":["import {useEffect, useState} from \"react\";\n\n// params structure: {url, header, method, body, dep1, dep2}\nexport const useFetch = (params) => {\n    // console.log(`method ${JSON.stringify(params)}`);\n    const [data, setData] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(false);\n    useEffect(() => {\n        if (!params.dep1) {return () => null;}\n        setLoading(true);\n        fetch(params.url, {\n            headers: params.header,\n            method: params.method,\n            body: params.body\n        })\n            .then(response => response.json())\n            .then((responseData) => {\n                setData(responseData);\n                setLoading(false);\n            })\n            .catch(() => {setError(true)})\n    }, [params.url, params.dep1, params.dep2]);\n    return {data, loading, error};\n};"]},"metadata":{},"sourceType":"module"}