{"ast":null,"code":"import React,{useContext}from'react';import'./Score.css';import{ConsoleContext}from\"../ConsoleContext\";import{useFetch}from'../../utils/Hook';import Card from\"../../componenets/Card\";import BetterProducts from\"./BetterProducts\";import NoData from\"../../componenets/NoData\";import Loader from\"../../componenets/Loader\";import authHeader from\"../../utils/auth-header\";import{CONSTANTS}from'../../utils/constants';var Score=function Score(){var _useContext=useContext(ConsoleContext),marketContext=_useContext.marketContext,productContext=_useContext.productContext,languageContext=_useContext.languageContext;var _useFetch=useFetch({url:\"\".concat(CONSTANTS.URL_PREFIX,\"://prody.me/api/product_page_score_and_better_products/\").concat(marketContext,\"/\").concat(productContext),header:authHeader(),method:'GET',dep1:productContext}),data=_useFetch.data,loading=_useFetch.loading;var content=function content(){if(loading){return React.createElement(Loader,null);}else if(!data.length){return React.createElement(NoData,null);}else{var scoreClass=null;var score=data[0].score;if(score<=3){scoreClass='scoreRed score';}else if(function(score){return 4&&score<=7;}){scoreClass='scoreOrange score';}else if(function(score){return 8;}){scoreClass='scoreGreen score';}else{scoreClass=null;}return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:scoreClass},score),React.createElement(\"div\",{style:{'alignSelf':'flex-end','paddingBottom':'25px'}},\"/ 10\"));}};var title=function title(){if(languageContext==='ENG'){return React.createElement(\"div\",{style:{'fontWeight':'bold','marginBottom':'20px'}},\"Health Score\");}else if(languageContext==='HEB'){return React.createElement(\"div\",{style:{'fontWeight':'bold','marginBottom':'20px'}},\"\\u05E6\\u05D9\\u05D5\\u05DF \\u05D1\\u05E8\\u05D9\\u05D0\\u05D5\\u05EA\");}};return React.createElement(Card,null,React.createElement(\"div\",{className:\"scoreContainer\"},title(),React.createElement(\"div\",{className:\"scoreContent\"},content())));};export default Score;// TODO: add \"no data\" logic\n// <BetterProducts/>","map":{"version":3,"sources":["/Users/shahafdan/Documents/BostonU/TAMID/prody/prody-master/prody_fe/src/Console/ProductPage/Score.js"],"names":["React","useContext","ConsoleContext","useFetch","Card","BetterProducts","NoData","Loader","authHeader","CONSTANTS","Score","marketContext","productContext","languageContext","url","URL_PREFIX","header","method","dep1","data","loading","content","length","scoreClass","score","title"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,KAAgC,OAAhC,CAEA,MAAO,aAAP,CACA,OAAQC,cAAR,KAA6B,mBAA7B,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,OAAQC,SAAR,KAAwB,uBAAxB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,iBAE2CT,UAAU,CAACC,cAAD,CAFrD,CAERS,aAFQ,aAERA,aAFQ,CAEOC,cAFP,aAEOA,cAFP,CAEuBC,eAFvB,aAEuBA,eAFvB,eAGSV,QAAQ,CAAC,CAACW,GAAG,WAAIL,SAAS,CAACM,UAAd,mEAAkFJ,aAAlF,aAAmGC,cAAnG,CAAJ,CAC9BI,MAAM,CAAER,UAAU,EADY,CAE9BS,MAAM,CAAE,KAFsB,CAG9BC,IAAI,CAAEN,cAHwB,CAAD,CAHjB,CAGRO,IAHQ,WAGRA,IAHQ,CAGFC,OAHE,WAGFA,OAHE,CAQhB,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAElB,GAAGD,OAAH,CAAY,CAAC,MAAQ,qBAAC,MAAD,MAAR,CAAmB,CAAhC,IACK,IAAI,CAACD,IAAI,CAACG,MAAV,CAAkB,CAAC,MAAQ,qBAAC,MAAD,MAAR,CAAmB,CAAtC,IACA,CACD,GAAIC,CAAAA,UAAU,CAAG,IAAjB,CACA,GAAMC,CAAAA,KAAK,CAAGL,IAAI,CAAC,CAAD,CAAJ,CAAQK,KAAtB,CACA,GAAIA,KAAK,EAAI,CAAb,CAAgB,CAACD,UAAU,CAAC,gBAAX,CAA6B,CAA9C,IACK,IAAI,SAAAC,KAAK,QAAI,IAAKA,KAAK,EAAI,CAAlB,EAAT,CAA8B,CAACD,UAAU,CAAC,mBAAX,CAAgC,CAA/D,IACA,IAAI,SAAAC,KAAK,QAAI,EAAJ,EAAT,CAAgB,CAACD,UAAU,CAAC,kBAAX,CAA+B,CAAhD,IAAsD,CAACA,UAAU,CAAC,IAAX,CAAiB,CAC7E,MACI,yCACI,2BAAK,SAAS,CAAEA,UAAhB,EAA6BC,KAA7B,CADJ,CAEI,2BAAK,KAAK,CAAE,CAAC,YAAY,UAAb,CAAyB,gBAAgB,MAAzC,CAAZ,SAFJ,CADJ,CAOH,CACJ,CAlBD,CAoBA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAChB,GAAIZ,eAAe,GAAK,KAAxB,CAA+B,CAAC,MAAQ,4BAAK,KAAK,CAAE,CAAC,aAAa,MAAd,CAAsB,eAAe,MAArC,CAAZ,iBAAR,CAAsF,CAAtH,IACK,IAAIA,eAAe,GAAK,KAAxB,CAA+B,CAAC,MAAQ,4BAAK,KAAK,CAAE,CAAC,aAAa,MAAd,CAAsB,eAAe,MAArC,CAAZ,kEAAR,CAAqF,CAC7H,CAHD,CAKA,MACI,qBAAC,IAAD,MACI,2BAAK,SAAS,CAAC,gBAAf,EACKY,KAAK,EADV,CAEI,2BAAK,SAAS,CAAC,cAAf,EACKJ,OAAO,EADZ,CAFJ,CADJ,CADJ,CAWH,CA5CD,CA8CA,cAAeX,CAAAA,KAAf,CAEA;AAEA","sourcesContent":["import React, {useContext} from 'react';\n\nimport './Score.css';\nimport {ConsoleContext} from \"../ConsoleContext\";\nimport { useFetch } from '../../utils/Hook';\nimport Card from \"../../componenets/Card\";\nimport BetterProducts from \"./BetterProducts\";\nimport NoData from \"../../componenets/NoData\";\nimport Loader from \"../../componenets/Loader\";\nimport authHeader from \"../../utils/auth-header\";\nimport {CONSTANTS} from '../../utils/constants';\n\nconst Score = () => {\n\n    const { marketContext, productContext, languageContext } = useContext(ConsoleContext);\n    const { data, loading} = useFetch({url:`${CONSTANTS.URL_PREFIX}://prody.me/api/product_page_score_and_better_products/${marketContext}/${productContext}`,\n        header: authHeader(),\n        method: 'GET',\n        dep1: productContext});\n\n    const content = () => {\n\n        if(loading) {return (<Loader/>)}\n        else if (!data.length) {return (<NoData/>)}\n        else {\n            let scoreClass = null;\n            const score = data[0].score;\n            if (score <= 3) {scoreClass='scoreRed score';}\n            else if (score => 4 && score <= 7) {scoreClass='scoreOrange score';}\n            else if (score => 8) {scoreClass='scoreGreen score';} else {scoreClass=null;}\n            return  (\n                <>\n                    <div className={scoreClass}>{score}</div>\n                    <div style={{'alignSelf':'flex-end', 'paddingBottom':'25px'}}>/ 10</div>\n                </>\n            )\n\n        }\n    };\n\n    const title = () => {\n        if (languageContext === 'ENG') {return (<div style={{'fontWeight':'bold', 'marginBottom':'20px'}}>Health Score</div>)}\n        else if (languageContext === 'HEB') {return (<div style={{'fontWeight':'bold', 'marginBottom':'20px'}}>ציון בריאות</div>)}\n    };\n\n    return (\n        <Card>\n            <div className='scoreContainer'>\n                {title()}\n                <div className='scoreContent'>\n                    {content()}\n                </div>\n            </div>\n        </Card>\n    )\n\n};\n\nexport default Score;\n\n// TODO: add \"no data\" logic\n\n// <BetterProducts/>"]},"metadata":{},"sourceType":"module"}