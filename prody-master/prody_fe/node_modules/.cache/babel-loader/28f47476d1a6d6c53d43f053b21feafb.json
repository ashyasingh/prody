{"ast":null,"code":"import _slicedToArray from \"/Users/michellezyman/Projects/prody/prody-master/prody_fe/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/michellezyman/Projects/prody/prody-master/prody_fe/src/Console/Advertorial/SearchBar.js\";\nimport React, { useContext, useState } from 'react';\nimport { ConsoleContext } from '../ConsoleContext';\nimport './SearchBar.css';\nimport { useFetch } from \"../../utils/Hook\";\nimport Dropdown from \"../../componenets/Dropdown\";\nimport authHeader from \"../../utils/auth-header\";\nimport { CONSTANTS } from '../../utils/constants';\n\nconst SearchBar = () => {\n  const _useContext = useContext(ConsoleContext),\n        marketContext = _useContext.marketContext,\n        productContext = _useContext.productContext,\n        setProductContext = _useContext.setProductContext;\n\n  const _useState = useState('1'),\n        _useState2 = _slicedToArray(_useState, 2),\n        productFilter = _useState2[0],\n        setProductFilter = _useState2[1];\n\n  const _useFetch = useFetch({\n    url: `${CONSTANTS.URL_PREFIX}://prody.me/api/product_page_product_dropdown/${marketContext}/${productFilter}`,\n    header: authHeader(),\n    method: 'GET',\n    dep1: productFilter\n  }),\n        data = _useFetch.data,\n        loading = _useFetch.loading;\n\n  const productsArray = () => {\n    if (!loading) {\n      return data.map(item => {\n        return {\n          value: item.barcode,\n          displayValue: item.barcode_desc_eng\n        };\n      });\n    } else {\n      return '';\n    }\n  }; // console.log(`searchBar: product: ${productContext} market: ${marketContext}`);\n  // console.log('searchBar - product  ' + product);\n\n\n  return React.createElement(\"div\", {\n    className: \"searchBarContainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"searchBar_dropdown\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"searchBar_dropdown\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(Dropdown, {\n    listArray: productsArray(),\n    title: \"Product\",\n    loading: loading,\n    selectionValueHandler: setProductContext,\n    useDisplayValue: false,\n    filterHandler: setProductFilter,\n    defultValue: productContext,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })));\n};\n\nexport default SearchBar; // TODO: productContext updated on every dropdown change","map":{"version":3,"sources":["/Users/michellezyman/Projects/prody/prody-master/prody_fe/src/Console/Advertorial/SearchBar.js"],"names":["React","useContext","useState","ConsoleContext","useFetch","Dropdown","authHeader","CONSTANTS","SearchBar","marketContext","productContext","setProductContext","productFilter","setProductFilter","url","URL_PREFIX","header","method","dep1","data","loading","productsArray","map","item","value","barcode","displayValue","barcode_desc_eng"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,QAA0C,OAA1C;AAEA,SAASC,cAAT,QAA+B,mBAA/B;AACA,OAAO,iBAAP;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,SAAQC,SAAR,QAAwB,uBAAxB;;AAGA,MAAMC,SAAS,GAAG,MAAM;AAAA,sBAEwCP,UAAU,CAACE,cAAD,CAFlD;AAAA,QAEZM,aAFY,eAEZA,aAFY;AAAA,QAEGC,cAFH,eAEGA,cAFH;AAAA,QAEmBC,iBAFnB,eAEmBA,iBAFnB;;AAAA,oBAGsBT,QAAQ,CAAC,GAAD,CAH9B;AAAA;AAAA,QAGbU,aAHa;AAAA,QAGEC,gBAHF;;AAAA,oBAIMT,QAAQ,CAC9B;AACIU,IAAAA,GAAG,EAAG,GAAEP,SAAS,CAACQ,UAAW,iDAAgDN,aAAc,IAAGG,aAAc,EADhH;AAEII,IAAAA,MAAM,EAAEV,UAAU,EAFtB;AAGIW,IAAAA,MAAM,EAAE,KAHZ;AAIIC,IAAAA,IAAI,EAAEN;AAJV,GAD8B,CAJd;AAAA,QAIZO,IAJY,aAIZA,IAJY;AAAA,QAINC,OAJM,aAINA,OAJM;;AAapB,QAAMC,aAAa,GAAG,MAAM;AACxB,QAAI,CAACD,OAAL,EAAc;AACV,aAAOD,IAAI,CAACG,GAAL,CAAUC,IAAD,IAAU;AACtB,eAAO;AAACC,UAAAA,KAAK,EAAED,IAAI,CAACE,OAAb;AAAsBC,UAAAA,YAAY,EAAEH,IAAI,CAACI;AAAzC,SAAP;AACH,OAFM,CAAP;AAGH,KAJD,MAIO;AAAC,aAAO,EAAP;AAAU;AACrB,GAND,CAboB,CAqBpB;AACA;;;AAGA,SACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAGI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,QAAD;AACI,IAAA,SAAS,EAAEN,aAAa,EAD5B;AAEI,IAAA,KAAK,EAAC,SAFV;AAGI,IAAA,OAAO,EAAED,OAHb;AAII,IAAA,qBAAqB,EAAET,iBAJ3B;AAKI,IAAA,eAAe,EAAE,KALrB;AAMI,IAAA,aAAa,EAAEE,gBANnB;AAOI,IAAA,WAAW,EAAEH,cAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAHJ,CADJ;AAgBH,CAzCD;;AA2CA,eAAeF,SAAf,C,CAEA","sourcesContent":["import React, {useContext, useState} from 'react';\n\nimport { ConsoleContext } from '../ConsoleContext';\nimport './SearchBar.css'\nimport {useFetch} from \"../../utils/Hook\";\nimport Dropdown from \"../../componenets/Dropdown\";\nimport authHeader from \"../../utils/auth-header\";\nimport {CONSTANTS} from '../../utils/constants';\n\n\nconst SearchBar = () => {\n\n    const { marketContext, productContext, setProductContext} = useContext(ConsoleContext);\n    const [productFilter, setProductFilter] = useState('1');\n    const { data, loading } = useFetch(\n        {\n            url: `${CONSTANTS.URL_PREFIX}://prody.me/api/product_page_product_dropdown/${marketContext}/${productFilter}`,\n            header: authHeader(),\n            method: 'GET',\n            dep1: productFilter\n        }\n    );\n\n    const productsArray = () => {\n        if (!loading) {\n            return data.map((item) => {\n                return {value: item.barcode, displayValue: item.barcode_desc_eng}\n            });\n        } else {return ''}\n    };\n\n    // console.log(`searchBar: product: ${productContext} market: ${marketContext}`);\n    // console.log('searchBar - product  ' + product);\n\n\n    return (\n        <div className=\"searchBarContainer\">\n            <div className=\"searchBar_dropdown\">\n            </div>\n            <div className=\"searchBar_dropdown\">\n                <Dropdown\n                    listArray={productsArray()}\n                    title='Product'\n                    loading={loading}\n                    selectionValueHandler={setProductContext}\n                    useDisplayValue={false}\n                    filterHandler={setProductFilter}\n                    defultValue={productContext}/>\n            </div>\n        </div>\n    );\n};\n\nexport default SearchBar;\n\n// TODO: productContext updated on every dropdown change"]},"metadata":{},"sourceType":"module"}