{"ast":null,"code":"import _slicedToArray from \"/Users/ashyasingh/prody/prody-master/prody_fe/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ashyasingh/prody/prody-master/prody_fe/src/Console/BrandPage/SearchBar.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { ConsoleContext } from '../ConsoleContext';\nimport './SearchBar.css';\nimport { useFetch } from \"../../utils/Hook\";\nimport Dropdown from \"../../componenets/Dropdown\";\nimport { useHistory } from \"react-router-dom\";\nimport authHeader from \"../../utils/auth-header\";\nimport { CONSTANTS } from '../../utils/constants';\n\nconst SearchBar = () => {\n  // const { marketContext, productContext, setProductContext} = useContext(ConsoleContext);\n  const _useState = useState('a'),\n        _useState2 = _slicedToArray(_useState, 2),\n        brandFilter = _useState2[0],\n        setBrandFilter = _useState2[1];\n\n  const _useFetch = useFetch({\n    url: `${CONSTANTS.URL_PREFIX}://prody.me/api/brand_page_brand_dropdown/${brandFilter}`,\n    header: authHeader(),\n    method: 'GET',\n    dep1: brandFilter\n  }),\n        data = _useFetch.data,\n        loading = _useFetch.loading;\n\n  const brandArray = () => {\n    if (!loading) {\n      return data.map(item => {\n        return {\n          value: item.id,\n          displayValue: item.desc_eng\n        };\n      });\n    } else {\n      return '';\n    }\n  }; // console.log(`searchBar: productContext: ${productContext} market: ${marketContext} productFilter: ${productFilter}`);\n  // console.log('searchBar - product  ' + product);\n\n\n  const history = useHistory();\n\n  const updateURL = brand => {\n    history.push(`/brandpage/${brand}`);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"searchBarContainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"searchBar_dropdown\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"searchBar_dropdown\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(Dropdown, {\n    listArray: brandArray(),\n    title: \"Brand\",\n    loading: loading // selectionValueHandler={setProductContext}\n    ,\n    useDisplayValue: true,\n    filterHandler: setBrandFilter // defultValue={productContext}\n    ,\n    updateURL: updateURL,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  })));\n};\n\nexport default SearchBar;","map":{"version":3,"sources":["/Users/ashyasingh/prody/prody-master/prody_fe/src/Console/BrandPage/SearchBar.js"],"names":["React","useContext","useEffect","useState","ConsoleContext","useFetch","Dropdown","useHistory","authHeader","CONSTANTS","SearchBar","brandFilter","setBrandFilter","url","URL_PREFIX","header","method","dep1","data","loading","brandArray","map","item","value","id","displayValue","desc_eng","history","updateURL","brand","push"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,SAA3B,EAAsCC,QAAtC,QAAqD,OAArD;AAEA,SAASC,cAAT,QAA+B,mBAA/B;AACA,OAAO,iBAAP;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,SAAQC,SAAR,QAAwB,uBAAxB;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAEpB;AAFoB,oBAGkBP,QAAQ,CAAC,GAAD,CAH1B;AAAA;AAAA,QAGbQ,WAHa;AAAA,QAGAC,cAHA;;AAAA,oBAIMP,QAAQ,CAAC;AAACQ,IAAAA,GAAG,EAAG,GAAEJ,SAAS,CAACK,UAAW,6CAA4CH,WAAY,EAAtF;AAC/BI,IAAAA,MAAM,EAAEP,UAAU,EADa;AAE/BQ,IAAAA,MAAM,EAAE,KAFuB;AAG/BC,IAAAA,IAAI,EAAEN;AAHyB,GAAD,CAJd;AAAA,QAIZO,IAJY,aAIZA,IAJY;AAAA,QAINC,OAJM,aAINA,OAJM;;AASpB,QAAMC,UAAU,GAAG,MAAM;AACrB,QAAI,CAACD,OAAL,EAAc;AACV,aAAOD,IAAI,CAACG,GAAL,CAAUC,IAAD,IAAU;AACtB,eAAO;AAACC,UAAAA,KAAK,EAAED,IAAI,CAACE,EAAb;AAAiBC,UAAAA,YAAY,EAAEH,IAAI,CAACI;AAApC,SAAP;AACH,OAFM,CAAP;AAGH,KAJD,MAIO;AAAC,aAAO,EAAP;AAAU;AACrB,GAND,CAToB,CAiBpB;AACA;;;AAEA,QAAMC,OAAO,GAAGpB,UAAU,EAA1B;;AAEA,QAAMqB,SAAS,GAAIC,KAAD,IAAW;AACzBF,IAAAA,OAAO,CAACG,IAAR,CAAc,cAAaD,KAAM,EAAjC;AACH,GAFD;;AAIA,SACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAGI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,QAAD;AACI,IAAA,SAAS,EAAET,UAAU,EADzB;AAEI,IAAA,KAAK,EAAC,OAFV;AAGI,IAAA,OAAO,EAAED,OAHb,CAII;AAJJ;AAKI,IAAA,eAAe,EAAE,IALrB;AAMI,IAAA,aAAa,EAAEP,cANnB,CAOI;AAPJ;AAQI,IAAA,SAAS,EAAEgB,SARf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAHJ,CADJ;AAiBH,CA3CD;;AA6CA,eAAelB,SAAf","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\n\nimport { ConsoleContext } from '../ConsoleContext';\nimport './SearchBar.css'\nimport {useFetch} from \"../../utils/Hook\";\nimport Dropdown from \"../../componenets/Dropdown\";\nimport { useHistory } from \"react-router-dom\";\nimport authHeader from \"../../utils/auth-header\";\nimport {CONSTANTS} from '../../utils/constants';\n\nconst SearchBar = () => {\n\n    // const { marketContext, productContext, setProductContext} = useContext(ConsoleContext);\n    const [brandFilter, setBrandFilter] = useState('a');\n    const { data, loading } = useFetch({url: `${CONSTANTS.URL_PREFIX}://prody.me/api/brand_page_brand_dropdown/${brandFilter}`,\n        header: authHeader(),\n        method: 'GET',\n        dep1: brandFilter});\n\n    const brandArray = () => {\n        if (!loading) {\n            return data.map((item) => {\n                return {value: item.id, displayValue: item.desc_eng}\n            });\n        } else {return ''}\n    };\n\n    // console.log(`searchBar: productContext: ${productContext} market: ${marketContext} productFilter: ${productFilter}`);\n    // console.log('searchBar - product  ' + product);\n\n    const history = useHistory();\n\n    const updateURL = (brand) => {\n        history.push(`/brandpage/${brand}`);\n    };\n\n    return (\n        <div className=\"searchBarContainer\">\n            <div className=\"searchBar_dropdown\">\n            </div>\n            <div className=\"searchBar_dropdown\">\n                <Dropdown\n                    listArray={brandArray()}\n                    title='Brand'\n                    loading={loading}\n                    // selectionValueHandler={setProductContext}\n                    useDisplayValue={true}\n                    filterHandler={setBrandFilter}\n                    // defultValue={productContext}\n                    updateURL={updateURL}/>\n            </div>\n        </div>\n    );\n};\n\nexport default SearchBar;"]},"metadata":{},"sourceType":"module"}