{"ast":null,"code":"import React,{useContext}from'react';// import './BrandProducts.css';\nimport{ConsoleContext}from\"../ConsoleContext\";import{useFetch}from\"../../utils/Hook\";import NoData from\"../../componenets/NoData\";import Table from\"../../componenets/Table\";import Loader from\"../../componenets/Loader\";import authHeader from\"../../utils/auth-header\";import _ from\"lodash\";import{CONSTANTS}from'../../utils/constants';var BrandProducts=function BrandProducts(){var _useContext=useContext(ConsoleContext),languageContext=_useContext.languageContext,marketContext=_useContext.marketContext,brandContext=_useContext.brandContext;var _useFetch=useFetch({url:\"\".concat(CONSTANTS.URL_PREFIX,\"://prody.me/api/product_page_brand_products/\").concat(marketContext,\"/\").concat(brandContext),header:authHeader(),method:'GET',dep1:brandContext,dep2:marketContext}),data=_useFetch.data,loading=_useFetch.loading;var rowClickHandle=function rowClickHandle(barcode){window.open(\"/productpage/ISR/\".concat(barcode),\"_blank\");};var title=function title(){if(languageContext==='ENG'){return'Brand Products';}else if(languageContext==='HEB'){return'מוצרי המותג';}};var rows=function rows(){if(!loading){var sortedData=_.sortBy(data,[function(item){return-item.barcode;}]);return sortedData.map(function(row,index){if(languageContext==='ENG'){return React.createElement(\"tr\",{className:\"Table_row_clickable\",key:index,onClick:function onClick(){rowClickHandle(row.barcode);}},React.createElement(\"td\",null,row.barcode),React.createElement(\"td\",null,row.desc_eng),React.createElement(\"td\",null,row.quantity+' '+row.uom_eng,\" \"));}else if(languageContext==='HEB'){return React.createElement(\"tr\",{className:\"Table_row_clickable\",key:index,onClick:function onClick(){rowClickHandle(row.barcode);}},React.createElement(\"td\",null,row.barcode),React.createElement(\"td\",{dir:\"rtl\"},row.desc_heb),React.createElement(\"td\",{dir:\"rtl\"},row.quantity+' '+row.uom_heb,\" \"));}});}};var tableHead=function tableHead(){if(languageContext==='ENG'){return React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Barcode\"),React.createElement(\"th\",null,\"Label\"),React.createElement(\"th\",null,\"Quantity\")));}else if(languageContext==='HEB'){return React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"\\u05D1\\u05E8\\u05E7\\u05D5\\u05D3\"),React.createElement(\"th\",null,\"\\u05E9\\u05DD\"),React.createElement(\"th\",null,\"\\u05DB\\u05DE\\u05D5\\u05EA\")));}};var content=function content(){if(loading){return React.createElement(Loader,null);}else if(!data.length){return React.createElement(NoData,null);}else{return React.createElement(React.Fragment,null,React.createElement(Table,null,React.createElement(\"table\",null,tableHead(),React.createElement(\"tbody\",null,rows()))));}};return React.createElement(\"div\",{className:\"brandProductsContainer\"},React.createElement(\"div\",{style:{'fontWeight':'bold'}},title()),content());};export default BrandProducts;","map":{"version":3,"sources":["/Users/shahafdan/Documents/BostonU/TAMID/prody/prody-master/prody_fe/src/Console/ProductPage/BrandProducts.js"],"names":["React","useContext","ConsoleContext","useFetch","NoData","Table","Loader","authHeader","_","CONSTANTS","BrandProducts","languageContext","marketContext","brandContext","url","URL_PREFIX","header","method","dep1","dep2","data","loading","rowClickHandle","barcode","window","open","title","rows","sortedData","sortBy","item","map","row","index","desc_eng","quantity","uom_eng","desc_heb","uom_heb","tableHead","content","length"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\n\n// import './BrandProducts.css';\nimport {ConsoleContext} from \"../ConsoleContext\";\nimport { useFetch } from \"../../utils/Hook\";\nimport NoData from \"../../componenets/NoData\";\nimport Table from \"../../componenets/Table\";\nimport Loader from \"../../componenets/Loader\";\nimport authHeader from \"../../utils/auth-header\";\nimport _ from \"lodash\";\nimport {CONSTANTS} from '../../utils/constants';\n\nconst BrandProducts = () => {\n\n    const { languageContext, marketContext, brandContext } = useContext(ConsoleContext);\n    const { data, loading} = useFetch({url:`${CONSTANTS.URL_PREFIX}://prody.me/api/product_page_brand_products/${marketContext}/${brandContext}`,\n        header: authHeader(),\n        method: 'GET',\n        dep1: brandContext,\n        dep2: marketContext});\n\n    const rowClickHandle = (barcode) => {\n        window.open(`/productpage/ISR/${barcode}`, \"_blank\")\n    };\n\n    const title = () => {\n        if (languageContext === 'ENG') {return 'Brand Products'}\n        else if (languageContext === 'HEB') {return 'מוצרי המותג'}\n    };\n\n    const rows = () => {\n        if(!loading) {\n            const sortedData = _.sortBy(data, [(item) => {return -item.barcode}]);\n            return sortedData.map((row, index) => {\n                if (languageContext === 'ENG') {\n                return (\n                    <tr className=\"Table_row_clickable\" key={index} onClick={()=>{rowClickHandle(row.barcode)}}>\n                        <td>{row.barcode}</td>\n                        <td>{row.desc_eng}</td>\n                        <td>{row.quantity + ' ' + row.uom_eng} </td>\n                    </tr>\n\n                )}\n                else if (languageContext === 'HEB') {\n                return (\n                    <tr className=\"Table_row_clickable\" key={index} onClick={()=>{rowClickHandle(row.barcode)}}>\n                        <td>{row.barcode}</td>\n                        <td dir='rtl'>{row.desc_heb}</td>\n                        <td dir='rtl'>{row.quantity + ' ' + row.uom_heb} </td>\n                    </tr>\n\n                )}\n            })\n        }\n    };\n\n    const tableHead = () => {\n        if (languageContext === 'ENG') {return (\n            <thead>\n            <tr>\n                <th>Barcode</th>\n                <th>Label</th>\n                <th>Quantity</th>\n            </tr>\n            </thead>\n        )}\n        else if (languageContext === 'HEB') {return (\n            <thead>\n            <tr>\n                <th>ברקוד</th>\n                <th>שם</th>\n                <th>כמות</th>\n            </tr>\n            </thead>\n        )}\n    };\n\n    const content = () => {\n        if(loading) {return (<Loader/>)}\n        else if (!data.length) {return (<NoData/>)}\n        else {\n            return (\n                <>\n                    <Table>\n                        <table>\n                            {tableHead()}\n                            <tbody>\n                            {rows()}\n                            </tbody>\n                        </table>\n                    </Table>\n                </>\n            )\n        }\n    };\n\n    return (\n        <div className='brandProductsContainer'>\n            <div style={{'fontWeight': 'bold'}}>{title()}</div>\n            {content()}\n        </div>\n    )\n};\n\nexport default BrandProducts;"]},"metadata":{},"sourceType":"module"}