{"ast":null,"code":"import _slicedToArray from\"/Users/shahafdan/Documents/BostonU/TAMID/prody/prody-master/prody_fe/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";// params structure: {url, header, method, body, dep1, dep2}\nexport var useFetch=function useFetch(params){// console.log(`method ${JSON.stringify(params)}`);\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){if(!params.dep1){return function(){return null;};}setLoading(true);fetch(params.url,{headers:params.header,method:params.method,body:params.body}).then(function(response){return response.json();}).then(function(responseData){setData(responseData);setLoading(false);}).catch(function(){setError(true);});},[params.url,params.dep1,params.dep2]);return{data:data,loading:loading,error:error};};","map":{"version":3,"sources":["/Users/shahafdan/Documents/BostonU/TAMID/prody/prody-master/prody_fe/src/utils/Hook.js"],"names":["useEffect","useState","useFetch","params","data","setData","loading","setLoading","error","setError","dep1","fetch","url","headers","header","method","body","then","response","json","responseData","catch","dep2"],"mappings":"uJAAA,OAAQA,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CAEA;AACA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,MAAD,CAAY,CAChC;AADgC,cAERF,QAAQ,CAAC,IAAD,CAFA,wCAEzBG,IAFyB,eAEnBC,OAFmB,8BAGFJ,QAAQ,CAAC,IAAD,CAHN,yCAGzBK,OAHyB,eAGhBC,UAHgB,8BAINN,QAAQ,CAAC,KAAD,CAJF,yCAIzBO,KAJyB,eAIlBC,QAJkB,eAKhCT,SAAS,CAAC,UAAM,CACZ,GAAI,CAACG,MAAM,CAACO,IAAZ,CAAkB,CAAC,MAAO,kBAAM,KAAN,EAAP,CAAmB,CACtCH,UAAU,CAAC,IAAD,CAAV,CACAI,KAAK,CAACR,MAAM,CAACS,GAAR,CAAa,CACdC,OAAO,CAAEV,MAAM,CAACW,MADF,CAEdC,MAAM,CAAEZ,MAAM,CAACY,MAFD,CAGdC,IAAI,CAAEb,MAAM,CAACa,IAHC,CAAb,CAAL,CAKKC,IALL,CAKU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EALlB,EAMKF,IANL,CAMU,SAACG,YAAD,CAAkB,CACpBf,OAAO,CAACe,YAAD,CAAP,CACAb,UAAU,CAAC,KAAD,CAAV,CACH,CATL,EAUKc,KAVL,CAUW,UAAM,CAACZ,QAAQ,CAAC,IAAD,CAAR,CAAe,CAVjC,EAWH,CAdQ,CAcN,CAACN,MAAM,CAACS,GAAR,CAAaT,MAAM,CAACO,IAApB,CAA0BP,MAAM,CAACmB,IAAjC,CAdM,CAAT,CAeA,MAAO,CAAClB,IAAI,CAAJA,IAAD,CAAOE,OAAO,CAAPA,OAAP,CAAgBE,KAAK,CAALA,KAAhB,CAAP,CACH,CArBM","sourcesContent":["import {useEffect, useState} from \"react\";\n\n// params structure: {url, header, method, body, dep1, dep2}\nexport const useFetch = (params) => {\n    // console.log(`method ${JSON.stringify(params)}`);\n    const [data, setData] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(false);\n    useEffect(() => {\n        if (!params.dep1) {return () => null;}\n        setLoading(true);\n        fetch(params.url, {\n            headers: params.header,\n            method: params.method,\n            body: params.body\n        })\n            .then(response => response.json())\n            .then((responseData) => {\n                setData(responseData);\n                setLoading(false);\n            })\n            .catch(() => {setError(true)})\n    }, [params.url, params.dep1, params.dep2]);\n    return {data, loading, error};\n};"]},"metadata":{},"sourceType":"module"}